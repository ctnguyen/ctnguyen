%Texlive-full Version 3.141592-1.40.3 (Web2C 7.5.6)
%TexStudio Version 2.7.0

\documentclass[a4paper,10pt]{article}
\usepackage[utf8]{inputenc}
\usepackage{graphicx}

\usepackage{lmodern}
\usepackage[a4paper]{geometry}

\usepackage{hyperref}
\usepackage{enumitem}
% \usepackage{nomencl}\makenomenclature

\usepackage{amsmath}
\usepackage{amssymb}
\usepackage{amsthm}

\usepackage{pstricks}
\usepackage{pst-node}
\usepackage{color}
\usepackage[ddmmyyyy]{datetime} 


\newcommand{\E}{\mathbb{E}}
\newcommand{\Proba}{\mathbb{P}}
\newcommand{\F}{\mathcal{F}}
\newcommand{\Bt}{B_t}
\newcommand{\DtT}{D(t,T)}
\newcommand{\RtT}{R(t,T)}
\newcommand{\PtT}{P(t,T)}
\newcommand{\PtS}{P(t,S)}
\newcommand{\LtT}{l(t,T)}
\newcommand{\YtT}{Y(t,T)}
\newcommand{\ftT}{f(t,T)}
\newcommand{\tautT}{\tau(t,T)}
\newcommand{\inttT}{\int_t^T}
\newcommand{\intt}{\int_0^t}
\newcommand{\FuncExp}{\text{exp}}
\newcommand{\FuncLn}{\text{ln}}
\newcommand{\Discount}[2]{e^{-\int_{#1}^{#2}r_u du} }


\newcommand{\li}{l(\Ti,\Tii)}
\newcommand{\Ti}{T_{i}}
\newcommand{\Talpha}{T_{\alpha}}
\newcommand{\Tbeta}{T_{\beta}}
\newcommand{\Tii}{T_{i+1}}
\newcommand{\Pti}{P(t,T_{i})}
\newcommand{\Ptii}{P(t,T_{i+1})}
\newcommand{\Lti}{L(t,\Ti,\Tii)}
\newcommand{\Lit}{L_{i}(t)}
\newcommand{\ZCi}{ZC_{i}}
\newcommand{\ZCii}{ZC_{i+1}}
\newcommand{\Numi}{Num_{i}}
\newcommand{\Numii}{Num_{i+1}}

\newcommand{\todo}[1]{\begin{center}\color{red} TODO : #1\end{center}}

\begin{document}
\begin{titlepage}
%%%%%%%%%%%%%%%%%%%%%%%%%%  LOGO  %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\begin{center}
\begin{pspicture}(-7,0)(7,2)
%\psline(-7,0)(7,2)
\rput(-9,2){\href{http://www.univ-paris-diderot.fr/english/sc/site.php?bc=accueil&np=accueil&g=m}{\includegraphics[scale=1.2]{logo_p7}}}
\rput( -3.5,1){\href{hhttp://www.lunalogic.com/en/}{\includegraphics[scale=0.4]{logo_luna}}}
\rput(4,2){\href{https://masterfinance.math.univ-paris-diderot.fr/}
	    {	\begin{tabular}{l}
		\resizebox{4cm}{0.6cm}{M2MO} \\
		\resizebox{6cm}{0.5cm}{DEA Laure Elie}  
		\end{tabular}
	    }
}

\rput(3,-0.5){
\begin{tabular}{ll}
Tutors                                                                  &              \\ 
\href{mailto:revierdenord@gmail.com}{\textbf{Yuan LI} }                 &(Lunalogic)  \\
\href{mailto:scotti@math.univ-paris-diderot.fr}{\textbf{Simone SCOTTI}} &(Paris 7)  
\end{tabular}	    
}
%\psline(-7,0)(7,2)
\end{pspicture}
\end{center}



%%%%%%%%%%%%%%%%%% DOCUMENT TITLE %%%%%%%%%%%%%%%%%%%%%%%%%
\vspace{2cm}

\begin{center}
%\resizebox{14cm}{0.7cm}{High dimensional PDE solver for multi-asset pricing option}
\resizebox{14cm}{0.8cm}{Variant of Libor Market Model}
\end{center}
%%%%%%%%%%%%%%%%%% DOCUMENT TITLE %%%%%%%%%%%%%%%%%%%%%%%%%
\begin{center}
\huge{ Version : \today }
\end{center}


\begin{center}
\href{mailto:chithanhnguyen.math@gmail.com}{\LARGE{\textbf{Chi Thanh NGUYEN}}}
\end{center}



\vfill
\begin{abstract}
In the internship at Lunalogic, we continu the work of ~\cite{THAI2013} and use the book  ~\cite{BRIGO2006} ~\cite{BRIGO2005}
\end{abstract}
\end{titlepage}


\tableofcontents
\newpage

% % % % % % % % % % % % % % % % % % % % % % % % % % % % % % % % % % % % % % %
\newpage
\section{About Lunalogic}
\begin{tabular}{llll}
Position          &            Name              & Contact                        &Telephone      \\
Exec Director     & Fathia Rahmani               & fathia.rahmani@lunalogic.com   &               \\
HR   Director     & Isabelle Marouby             & isabelle.marouby@lunalogic.com &06.51.44.06.78 \\
Quant Consultant  & Yuan Li                      & revierdenord@gmail.com         &06.52.17.69.75 \\    
Tech. support     & Fastah Rahmani               & fastah.rahmani@gmail.com       &               \\ 
Bloomberg supp.   & Giulio D'Ambrosio            & gdambrosio3@bloomberg.net      &+442070733101  \\
\end{tabular}


\section{The Model lastly implemented at Lunalogic}
We explain here how are implemented the last model, calibration, test..., some critical views from the older work, what is done, what is to to, see \cite{THAI2013}.
\begin{itemize}
 \item horizon  = N
 \item Timeline $T_i$ , i = 0,1, .... N+1. Timeline size = N+2
 \item Time Fractions $\tau_i = \Tii-\Ti$, i=0,1,... N. 
 \item The Libor : $L_i = L(t,T_i,T_{i+1})$, i=0,1,... N. Number of LIBORs = N+1
\end{itemize}

\subsection{Libor Model}
The Spot LIBOR 
\[
\LtT=\frac{1-\PtT}{\tautT \PtT}
\hspace{1cm}
l_i = \li  = \frac{1}{\tau_i}\left( \frac{1}{P(\Ti,\Tii)} - 1 \right)
\hspace{1cm}
\tau_i \li = 
\]
The forward Libor 
\[
L_i(t) = L(t,\Ti,\Tii) = \frac{1}{\tau_i} \left[ \frac{\Pti}{\Ptii} - 1  \right]
\]
For the initial forward LIBOR ( which is different than the spot LIBOR )
\[
L_i(0) = L_i = \frac{1}{\tau_i} \left[ \frac{\ZCi}{\ZCii} - 1  \right] = \frac{1}{\tau_i} \left[ \frac{\Numii}{\Numi} - 1  \right]
\]
Then
\[
\left\{
\begin{array}{l}
Num_0 = 1 \\
\Numii = \Numi(\tau_i L_i +1)
\end{array}
\right.
\hspace{2cm}
\left\{
\begin{array}{l}
ZC_0 = 1 \\
\ZCii = \frac{\ZCi}{\tau_i L_i +1}
\end{array}
\right.
\]
The forward discount factor (useful in Swap configuration) is defined for a $t\leq \Talpha < T_k$
\[
\text{FP}(t,\Talpha,T_k)= \frac{P(t,T_k)}{P(t,\Talpha)}
 = \prod^{k-1}_{i=\alpha} \frac{\Ptii}{\Pti} 
 = \prod^{k-1}_{i=\alpha} \frac{1}{1+\tau_i \Lti }
\]











\subsection{Calibration deterministic volatilities}
Volatilities in this section are piecewise constant.

\begin{center}
\begin{pspicture}(-7,-3)(7,3)
% Reference for Picture
%\psline[linewidth=0.1pt,linecolor=gray](-7,-3)(7,3)
%\rput(-6.5,-3){\Rnode{c1}{(-5,-3)}}\rput(0,2){\Rnode{c2}{(-1,1)}}
%\rput(0,-3){\Rnode{c3}{(2,-3)}} \rput(6,2){\Rnode{c4}{(6,1)}}
%
% Draw for Swaption matrix
\psgrid[subgriddiv=1,gridcolor=gray,griddots=10,gridlabels=0](-5,-3)(-1,1)               % set grid for Swaptions matrix
\rput(-4,1.3){1YR}\rput(-3,1.3){2YR}\rput(-2,1.3){3YR}\rput(-1,1.3){4YR}    % set horizontal label for Swaption matrix
\rput(-5.5,0){1YR}\rput(-5.5,-1){2YR}\rput(-5.5,-2){3YR}\rput(-5.5,-3){4YR} % set vertibal label for Swaption matrix
\psset{linecolor=red} % set points for swaption matrix
\qdisk(-4,0){3pt}\qdisk(-3,0){3pt}\qdisk(-2,0){3pt}
\qdisk(-4,-1){3pt}\qdisk(-3,-1){3pt}\qdisk(-4,-2){3pt}
\psset{linecolor=black}

% Draw for Vol piece wise matrix
\psgrid[gridwidth=0.01pt,gridcolor=lightgray,subgriddiv=2,subgridwidth=0.01pt,subgridcolor=lightgray,gridlabels=0](2,-3)(6,1)          % set grid for vol matrix
\rput(2,1.3){$T_0$}\rput(3,1.3){$T_2$}\rput(4,1.3){$T_4$}\rput(5,1.3){$T_6$}\rput(6,1.3){$T_8$} % set horizon label for vol matrix
\rput(1.5,0){$s_2(t)$}\rput(1.5,-1){$s_4(t)$}\rput(1.5,-2){$s_6(t)$}\rput(1.5,-3){$s_8(t)$}     % set vertical label for vol matrix
% draw line for piecewise constant vol points
\psset{linewidth=1.2pt}
\qline(2.5,0.5)(2.1,0.5)
\qline(2.5,0)(2.1,0)\qline(3,0)(2.6,0)
\qline(2.5,-0.5)(2.1,-0.5)\qline(3,-0.5)(2.6,-0.5)\qline(3.5,-0.5)(3.1,-0.5)
\qline(2.5,-1)(2.1,-1)\qline(3,-1)(2.6,-1)\qline(3.5,-1)(3.1,-1)\qline(4,-1)(3.6,-1)
\qline(2.5,-1.5)(2.1,-1.5)\qline(3,-1.5)(2.6,-1.5)\qline(3.5,-1.5)(3.1,-1.5)\qline(4,-1.5)(3.6,-1.5)\qline(4.5,-1.5)(4.1,-1.5)
\qline(2.5,-2)(2.1,-2)\qline(3,-2)(2.6,-2)\qline(3.5,-2)(3.1,-2)\qline(4,-2)(3.6,-2)\qline(4.5,-2)(4.1,-2)\qline(5,-2)(4.6,-2)
\qline(2.5,-2.5)(2.1,-2.5)\qline(3,-2.5)(2.6,-2.5)\qline(3.5,-2.5)(3.1,-2.5)\qline(4,-2.5)(3.6,-2.5)\qline(4.5,-2.5)(4.1,-2.5)\qline(5,-2.5)(4.6,-2.5)\qline(5.5,-2.5)(5.1,-2.5)
\qline(2.5,-3)(2.1,-3)\qline(3,-3)(2.6,-3)\qline(3.5,-3)(3.1,-3)\qline(4,-3)(3.6,-3)\qline(4.5,-3)(4.1,-3)\qline(5,-3)(4.6,-3)\qline(5.5,-3)(5.1,-3)\qline(6,-3)(5.6,-3)
% draw line for piecewise constant vol points
%
% set points for swaption matrix
\psset{linecolor=blue} 
\qdisk(3,0){2pt}\qdisk(3,-1){2pt}\qdisk(4,-1){2pt}
\qdisk(3,-2){2pt}\qdisk(4,-2){2pt}\qdisk(5,-2){2pt}
\psset{linecolor=black}
\end{pspicture}
\end{center}




\section{The implemented model}
\section{Calibration}
\section{Tests and validations}
Back testing, forward testing, validation. critical view points.

% % % % % % % % % % % % % % % % % % % % % % % % % % % % % % % % % % % % % % %
\newpage
\section{Appendices}
\appendix
Some apprendices are to be added by lecture of the book ~\cite{BRIGO2006}
\subsection{Generalities about interest rate}
\begin{itemize}
 \item Zero-coupon curves, interest rate curve. When talking about curve, its is function of maturity $T$. When talking about the present time $t$, it is about process, zero-coupon process, interest rate process.
 \item Interest rate are quoted, zero-coupon are deduced from interest rate in a consistent way.
\end{itemize}
{\color{red}IMPORTANT NOTE : Concerning multiperiod product as Swaps, Caps, Floors ... there are a dangeruous difference definitions of time increment between different sources. For example ~\cite{THAI2013} defined $L_i=L(T_i,T_{i+1})$ while ~\cite{BRIGO2006} defines $L_i=L(T_{i-1},T_i)$}
\paragraph{Money-market account (riskless asset)}
\[
d\Bt=r_t \Bt dt \hspace{1cm} B(0)=1 \hspace{1cm} B_t = \intt r_s ds
\hspace{1cm}
\left\{
\begin{array}{r l}
\Bt &\text{: Money market} \\
r_t &\text{: Instantaneous rate} 
\end{array}
\right.
\]
\paragraph{Stochastic discount factor} 
\[
D(t,T) = \FuncExp\left( -\inttT r_s ds \right)
\]
Note that $D(t,T)$ is the present value of future amount currency, while $\PtT$ zero-coupon is a contract value. $D(t,T)=\PtT$ when $r_t$ is determinist.
\paragraph{Spot Interest Rate}~\footnote{The time to maturity $\tautT$ denote the day-count convention between $t$ and $T$. The simplest case $\tautT=T-t$. see~\cite{PICARDO2014} }\\
Continuously-compounded 
\[
R(t,T) = -\frac{\FuncLn\PtT }{\tautT}
\hspace{1.5cm}
e^{\RtT\tautT}\PtT = 1
\hspace{1.5cm}
\PtT = e^{-\RtT\tautT}
\]
Simply-compounded ~\footnote{This quantity is related to LIBOR, when time to maturity is lesser than one year} 
\[
\LtT = \frac{1-\PtT}{\tautT\PtT}
\hspace{0.7 cm}
\PtT(1+\LtT\tautT)=1
\hspace{0.7cm}
\PtT = \frac{1}{1+\LtT\tautT}
\]
Annually-compounded
\[
\YtT = \frac{1}{\PtT^{1/\tautT}} -1
\hspace{0.8cm}
\PtT(1+\YtT)^{\tautT} = 1
\hspace{0.8cm}
\PtT = \frac{1}{(1+\YtT)^{\tautT}}
\]

\paragraph{Zero-coupon curve / Yield curve / term structure of interest rate}
\[
\text{graphic of}
\hspace{2cm}
T \longmapsto
\left\{
\begin{array}{lll}
\LtT  &  t < T \leq t+1 & \text{Simply compounded} \\
\YtT  &  t+1 < T        & \text{Annually compounded} 
\end{array}
\right.
\]
Yield curve in a general way is the graph of $T \longmapsto \RtT$.
\todo{read about behavior of this curve (inverted at behavior at the begining)}
\paragraph{Zero-bond curve / term structure of discount factors}
\[
\text{Graphic of }
\hspace{2cm}
T \longmapsto \PtT
\hspace{1cm}
,t<T
\]
Note that zero-bond curve is less informative than the zero-coupon curve.
\paragraph{Forward interest rate} is the fair value of strike $K$ that make the contract \textbf{FRA} worth zero at time $t<T<S$  
\[
\text{Simply-compounded}
\hspace{2cm}
F(t,T,S) = \frac{1}{ \tau_{(S,T)} }\left( \frac{\PtT}{\PtS} - 1 \right)
\hspace{1cm}
,t<T<S
\]
Instantanuous forward interest rate ~\footnote{This fundamental quantity is related HJM model}
\[
\ftT = \lim_{S\rightarrow T^+} F(t,T,S) = -\frac{\partial \FuncLn\PtT}{\partial T}
\hspace{2cm}
\PtT = \FuncExp\left( -\inttT f(t,u)du \right)
\]

\paragraph{Swap} is a contract helping to convert fixed rate flow into floating rate flow and vice versa. 
\[
\left\{
\begin{array}{l}
T_{\alpha},T_{\alpha+1},...T_{\beta} \\
\tau_i = \tau(T_i,T_{i+1})           \\
L_i    = L(T_i,T_{i+1})
\end{array}
\right.
\hspace{2cm}
\begin{array}{l}
\text{Nominal $N$, paements at dates $T_i$,  } i=\alpha+1,...,\beta \\
\text{ - For fixed legs    } N\tau_{i-1}K  \\
\text{ - For floating legs } N\tau_{i-1}L_{i-1}  
\end{array}
\]
The \textbf{Payer IRS (PFS)} receive the floatting legs, pays the fixed legs, while the \textbf{Receiver IRS (RFS)} receive the fixed legs and pays the floatting legs.s. The \textbf{Forward Swap Rate} is the value of strike $K$ that make the swap contract worth zero at time $t$
\[
S_{\alpha,\beta}(t) = \frac{P(t,T_{\alpha})-P(t,T_{\beta})}{\sum^{\beta}_{i=\alpha+1}\tau_{i-1}P(t,T_i)} 
\]
\paragraph{Caps / Floors}  
\[
\left\{
\begin{array}{l}
T_{\alpha},T_{\alpha+1},...T_{\beta} \\
\tau_i = \tau(T_i,T_{i+1})           \\
L_i    = L(T_i,T_{i+1})
\end{array}
\right.
\hspace{2cm}
\begin{array}{l}  
\text{Nominal $N$, payments at dates $T_i$,  } i=\alpha+1,...,\beta   \\
\text{ - For Caps    } N\tau_{i-1}(L_{i-1}-K)^+ \hspace{1.2 cm}\text{(caplet)}              \\
\text{ - For Floors  } N\tau_{i-1}(K-L_{i-1})^+ \hspace{1cm}\text{(floorlet)}
\end{array}
\]
The simpliest idea of pricing Caps and Floors to decompose into Caplets and Floorlets, then use the model descibing the forward price's dynamic instead of underlying asset. The \textbf{Black Model} is well explained in ~\cite{MAREK2009}ch3.4.


\paragraph{Swaption}
\todo{Black Formula for pricing Caps, Floors, Swaptions}  


relation between monney market account, zerocoupon, spot rate, short rate, forward rate , swaps, caps, floor, swaptions... 
\subsection{Forward price, change of numeraire, Forward measure}
\paragraph{Numeraire change}
\begin{itemize}[label={--}]
 \item If $X$ a tradable asset, $N^1$ a numeraire associated to a martingale measure $\Proba^{N^1}$, i.e 
 \[
 \frac{X_t}{N^1_t} = \E^{N^1}\left\{ \frac{X_T}{N^1_T}| \mathcal{F}_t \right\}
 \]
 Then for an arbitrary other numeraire $N^2$, we can define an other martingale measure $\Proba^{N^2}$ with the new numeraire
 \[
 \frac{d\Proba^{N^2}}{d\Proba^{N^1}}=\frac{N^1_0}{N^2_0}\frac{N^2_T}{N^1_T}
 \hspace{3cm}
 \frac{X_t}{N^2_t} = \E^{N^2}\left\{ \frac{X_T}{N^2_T}| \mathcal{F}_t \right\}
 \]
 \item The price of any atteinable contigent claim $h_T$ is invariant by change of numeraire :
 \[
 \pi_t(h_T) = N^1_t \E^{N^1}\left\{ \frac{h_T}{N^1_T}| \mathcal{F}_t \right\} = N^2_t\E^{N^2}\left\{ \frac{h_T}{N^2_T}| \mathcal{F}_t \right\}
 \]
 \item Change of numeraire toolkit ~\cite{BRIGO2006}2.3 Fact Three explain relation between new drift and old drift when changing numeraire.
\end{itemize}

\paragraph{T-forward measure} is the martingale measure $\Proba^{T}$ using zero-coupond bond $\PtT$ as numeraire. Under this probability~\footnote{The first equallity explain relation betweent discount factor and zero-coupon, which sometimes involves confusion \[\pi_t(h_T)=\E^{*}[e^{-\int^T_t r_udu}h_T|\F_t]= \PtT\E^{T}[h_T|\F_t]\]}
\[
\pi_t(h_T)=\PtT\E^{T}[h_T|\F_t]
\hspace{1cm}
F(t,S,T)=\E^{T}[L(S,T)|\F_t]
\hspace{1cm}
f(t,T)=\E^{T}[r_T|\F_t]
\]
\paragraph{Deferred payoff}
\[
\pi_t(H_{\tau})=\E[\Discount{t}{T}H_{\tau}|\F_t] = \E[\Discount{t}{\tau}P(\tau,T)H_{\tau}|\F_t]
\hspace{1.5cm}
t<\tau<T
\]
\paragraph{Pricing}
\[
\left\{
\begin{array}{l}
\textbf{Caps}\rightarrow\textbf{Caplets}\rightarrow\textbf{Deffered payoff} \rightarrow \textbf{Put Zerocoupon} \\
\textbf{Floors}\rightarrow\textbf{Floorlets}\rightarrow\textbf{Deffered payoff} \rightarrow \textbf{Call Zerocoupon}
\end{array}
\right.
\]



Definitions of forward price, forward measure, change of numeraire. Pricing Caps, Floors, Swap?, Swaption?

\subsection{HJM Framework}
\subsection{Correlated Brownian motion, volatility}
\subsection{LIBOR Market Model}
Libor model divided into two important part, one for pricing caps, floors markets, other for swaptions. The first is easier, one simply divide caps, floors into caplets and floorlets and apply Black's formula. The second can not do so, thus need to model the correlation between different LIBOR forward rate.
\subsection{Software and systems}
Installed on PC : TortoiseSVN, tex-live, texstudio, nodepadd++, Visual Studio Express 2012, cmake, boost\_1\_55\_0 (self full built), QuantLib-1.4, BOUML, 7-zip, GLE, GSview, grep (GNU Win32). 
\paragraph{Bloomberg terminal} is available at Lunalogic.
\begin{itemize}	
	\item user can create a new account on the terminal in order to personalize
	\item user can load data into Excel sheet after installing a specific bloomberg tool for Excel. 
	\item Bloomberg University (BU) : contains all general informations
	\item Online Training : give a small videos for tutorials.
	\item Help-Help : hotline help
	\item Every Bloomberg users are connected and can talk together on the chat.
\end{itemize}

% % % % % % % % % % % % % % % % % % % % % % % % % % % % % % % % % % % % % % %
\newpage
%\printnomenclature % % % % % % % % % % %
\bibliographystyle{siam}
\bibliography{intern_lunalogic.bib}
\end{document}
